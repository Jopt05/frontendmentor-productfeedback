(this["webpackJsonpfm-productfeedback"]=this["webpackJsonpfm-productfeedback"]||[]).push([[0],{10:function(e,t,n){},11:function(e,t,n){},13:function(e,t,n){"use strict";n.r(t);var s=n(1),a=n(5),i=n.n(a),c=(n(10),n(2));n(11);function o(e){var t=Object(s.useState)(e),n=Object(c.a)(t,2),a=n[0],i=n[1],o=Object(s.useRef)(null),l=function(e){o.current&&!o.current.contains(e.target)&&i(!1)};return Object(s.useEffect)((function(){return document.addEventListener("click",l,!0),function(){document.removeEventListener("click",l,!0)}})),[o,a,i]}var l=function(e){var t=Object(s.useState)({data:null,isLoading:!0,errors:null}),n=Object(c.a)(t,2),a=n[0],i=n[1];return Object(s.useEffect)((function(){fetch(e).then((function(e){return e.json()})).then((function(e){i({isLoading:!1,errors:null,data:e})}))}),[e]),[a,i]},r=function(e,t){var n=Object(s.useState)("All"),a=Object(c.a)(n,2),i=a[0],o=a[1],l=Object(s.useState)(!0),r=Object(c.a)(l,2),d=r[0],j=r[1];return Object(s.useEffect)((function(){var n;if(t(!1),"All"!==i){var s=null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.feedbacks.filter((function(e){return e.tags.includes(i)}));0===(null===s||void 0===s?void 0:s.length)?j(!1):j(!0)}}),[i]),[i,function(e){var t=e.target;o(t.innerText)},d]},d=function(){var e=Object(s.useState)(!1),t=Object(c.a)(e,2),n=t[0],a=t[1];return[n,function(){a(!n)}]},j=n(3),u=function(e,t,n){var a=Object(s.useState)("Most Upvotes"),i=Object(c.a)(a,2),o=i[0],l=i[1];return Object(s.useEffect)((function(){var e,s,a,i,c;if(null===t||void 0===t||null===(e=t.data)||void 0===e?void 0:e.feedbacks)switch(o){case"Most Upvotes":n(Object(j.a)(Object(j.a)({},t),{},{data:{feedbacks:null===t||void 0===t||null===(s=t.data)||void 0===s?void 0:s.feedbacks.sort((function(e,t){return(null===t||void 0===t?void 0:t.votes)-(null===e||void 0===e?void 0:e.votes)}))}}));break;case"Least Upvotes":n(Object(j.a)(Object(j.a)({},t),{},{data:{feedbacks:null===t||void 0===t||null===(a=t.data)||void 0===a?void 0:a.feedbacks.sort((function(e,t){return(null===e||void 0===e?void 0:e.votes)-(null===t||void 0===t?void 0:t.votes)}))}}));break;case"Most Comments":n(Object(j.a)(Object(j.a)({},t),{},{data:{feedbacks:null===t||void 0===t||null===(i=t.data)||void 0===i?void 0:i.feedbacks.sort((function(e,t){return(null===t||void 0===t?void 0:t.comments.length)-(null===e||void 0===e?void 0:e.comments.length)}))}}));break;case"Least Comments":n(Object(j.a)(Object(j.a)({},t),{},{data:{feedbacks:null===t||void 0===t||null===(c=t.data)||void 0===c?void 0:c.feedbacks.sort((function(e,t){return(null===e||void 0===e?void 0:e.comments.length)-(null===t||void 0===t?void 0:t.comments.length)}))}}))}}),[o]),[o,function(t){var n=t.target;l(null===n||void 0===n?void 0:n.innerText),e(!1)}]},v=Object(s.createContext)(null),b=n(0),O=function(){var e=Object(s.useContext)(v),t=e.isComponentVisible,n=e.setIsComponentVisible;return Object(b.jsxs)("div",{className:"HeaderRes",children:[Object(b.jsxs)("div",{className:"HeaderRes__Container",children:[Object(b.jsx)("h1",{className:"Header__Container-Title",children:"Frontend Mentor"}),Object(b.jsx)("p",{className:"Header__Container-Subtitle",children:"Feedback Board"})]}),Object(b.jsxs)("div",{className:"HeaderRes__Container ".concat(t?"Active":""),onClick:function(){return n(!t)},children:[Object(b.jsx)("span",{className:"HeaderRes__Container-Span"}),Object(b.jsx)("span",{className:"HeaderRes__Container-Span"}),Object(b.jsx)("span",{className:"HeaderRes__Container-Span"})]})]})},m=function(e){var t=Object(s.useContext)(v),n=t.Filter,a=t.handleChangeFilter;return Object(b.jsx)("button",{className:"Header__Container-Button ".concat(n===(null===e||void 0===e?void 0:e.title)?"ButtonActive":""),onClick:a,children:null===e||void 0===e?void 0:e.title})},x=function(e){return Object(b.jsxs)("div",{className:"Header__Container-Statuses-Div",children:[Object(b.jsx)("span",{className:"Header__Container-Statuses-Div-Pin"}),Object(b.jsx)("p",{className:"Header__Container-Statuses-Div-Text",children:null===e||void 0===e?void 0:e.title}),Object(b.jsx)("p",{className:"Header__Container-Statuses-Div-Number",children:null===e||void 0===e?void 0:e.amount})]})},f=function(){var e,t,n,a=Object(s.useContext)(v).Statuses;return Object(b.jsxs)("header",{className:"Header",children:[Object(b.jsxs)("div",{className:"Header__Container",children:[Object(b.jsx)("h1",{className:"Header__Container-Title",children:"Frontend Mentor"}),Object(b.jsx)("p",{className:"Header__Container-Subtitle",children:"Feedback Board"})]}),Object(b.jsxs)("div",{className:"Header__Container",children:[Object(b.jsx)(m,{title:"All"}),Object(b.jsx)(m,{title:"UI"}),Object(b.jsx)(m,{title:"UX"}),Object(b.jsx)(m,{title:"Enhancement"}),Object(b.jsx)(m,{title:"Bug"}),Object(b.jsx)(m,{title:"Feature"})]}),Object(b.jsxs)("div",{className:"Header__Container",children:[Object(b.jsxs)("div",{className:"Header__Container-Header",children:[Object(b.jsx)("p",{className:"Header__Container-Header-Title",children:"Roadmap"}),Object(b.jsx)("a",{className:"Header__Container-Header-Link",children:"View"})]}),Object(b.jsxs)("div",{className:"Header__Container-Statuses",children:[(null===a||void 0===a?void 0:a.planned)?Object(b.jsx)(x,{title:"Planned",amount:null===a||void 0===a||null===(e=a.planned)||void 0===e?void 0:e.length}):"",(null===a||void 0===a?void 0:a.progress)?Object(b.jsx)(x,{title:"In-Progress",amount:null===a||void 0===a||null===(t=a.progress)||void 0===t?void 0:t.length}):"",(null===a||void 0===a?void 0:a.live)?Object(b.jsx)(x,{title:"Live",amount:null===a||void 0===a||null===(n=a.live)||void 0===n?void 0:n.length}):""]})]})]})},h=function(e){var t=Object(s.useContext)(v),n=t.Order,a=t.handleOrderChange;return Object(b.jsxs)("div",{className:"Bar__Container-Menu-Row",onClick:a,children:[Object(b.jsx)("p",{className:"Bar__Container-Menu-Row-Text",children:null===e||void 0===e?void 0:e.title}),n===(null===e||void 0===e?void 0:e.title)?Object(b.jsx)("i",{class:"bx bx-check"}):""]})},C=function(){var e=Object(s.useContext)(v),t=e.Order,n=e.refOrder,a=e.isComponentVisibleOrder,i=e.setIsComponentVisibleOrder;return Object(b.jsxs)("div",{className:"Bar",children:[Object(b.jsxs)("div",{className:"Bar__Container",children:[Object(b.jsx)("i",{className:"bx bxs-bulb"}),Object(b.jsx)("p",{className:"Bar__Container-Suggestions",children:"7 Suggestions"})]}),Object(b.jsxs)("div",{ref:n,className:"Bar__Container",children:[Object(b.jsxs)("div",{className:"Bar__Container-Wrapper ".concat(a?"Active":""),onClick:function(){return i(!a)},children:[Object(b.jsx)("p",{className:"Bar__Container-Text",children:"Sort By :"}),Object(b.jsx)("p",{className:"Bar__Container-Text",children:t}),Object(b.jsx)("i",{className:"bx bx-chevron-down"})]}),Object(b.jsxs)("div",{className:"Bar__Container-Menu ".concat(a?"Active":""),children:[Object(b.jsx)(h,{title:"Most Upvotes"}),Object(b.jsx)(h,{title:"Least Upvotes"}),Object(b.jsx)(h,{title:"Most Comments"}),Object(b.jsx)(h,{title:"Least Comments"})]})]}),Object(b.jsx)("div",{className:"Bar__Container",children:Object(b.jsx)("button",{className:"Bar__Container-Button",children:"+ Add Feedback"})})]})},_=function(e){var t=Object(s.useContext)(v).Filter,n=Object(s.useState)(!1),a=Object(c.a)(n,2),i=a[0],o=a[1],l=Object(s.useState)({votes:null===e||void 0===e?void 0:e.votes}),r=Object(c.a)(l,2),d=r[0],j=r[1],u=Object(s.useRef)(null);return Object(s.useEffect)((function(){if(i){var t=JSON.parse(localStorage.getItem("votedItems"));null===t?(localStorage.setItem("votedItems",JSON.stringify([e.id])),t=localStorage.getItem("votedItems")):(t.push(e.id),localStorage.setItem("votedItems",JSON.stringify(t)))}else{var n=JSON.parse(localStorage.getItem("votedItems"));n=n.filter((function(t){return t!==e.id})),localStorage.setItem("votedItems",JSON.stringify(n))}}),[i]),Object(s.useEffect)((function(){fetch("https://productfeedback-backend.herokuapp.com/api/feedback/".concat(e.id),{body:JSON.stringify({votes:d.votes}),method:"PUT",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){return console.log(e)})).catch((function(e){return console.log(e)}))}),[d]),Object(s.useEffect)((function(){JSON.parse(localStorage.getItem("votedItems")).includes(e.id)&&o(!0)}),[]),Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("a",{ref:u,id:null===e||void 0===e?void 0:e.id,className:"Content__Element".concat((null===e||void 0===e?void 0:e.tags.includes(t))||"All"===t?"":" Hidden"),children:[Object(b.jsxs)("div",{className:"Content__Element-Votes ".concat(i?"isVoted":""),onClick:function(e){e.target;i?(o(!1),j({votes:d.votes-1})):(o(!0),j({votes:d.votes+1}))},children:[Object(b.jsx)("i",{className:"bx bx-chevron-up"}),Object(b.jsx)("p",{className:"Content__Element-Votes-Number",children:d.votes})]}),Object(b.jsxs)("div",{className:"Content__Element-Content",children:[Object(b.jsx)("p",{className:"Content__Element-Content-Title",children:null===e||void 0===e?void 0:e.title}),Object(b.jsx)("p",{className:"Content__Element-Content-Text",children:null===e||void 0===e?void 0:e.description}),Object(b.jsx)("div",{className:"Content__Element-Content-Categories",children:null===e||void 0===e?void 0:e.tags.map((function(e){return Object(b.jsx)("p",{className:"Header__Container-Button",children:e})}))})]}),Object(b.jsxs)("div",{className:"Content__Element-Comments",children:[Object(b.jsx)("i",{className:"bx bxs-message-rounded"}),Object(b.jsx)("p",{className:"Content__Element-Comments-Number",children:null===e||void 0===e?void 0:e.comments.length})]})]})})},p=function(){var e,t,n,a=Object(s.useContext)(v),i=a.ref,c=a.isComponentVisible,o=a.Statuses;return Object(b.jsxs)("div",{ref:i,className:"MenuRes ".concat(c?"Active":""),children:[Object(b.jsxs)("div",{className:"Header__Container",children:[Object(b.jsx)(m,{title:"All"}),Object(b.jsx)(m,{title:"UI"}),Object(b.jsx)(m,{title:"UX"}),Object(b.jsx)(m,{title:"Enhancement"}),Object(b.jsx)(m,{title:"Bug"}),Object(b.jsx)(m,{title:"Feature"})]}),Object(b.jsxs)("div",{className:"Header__Container",children:[Object(b.jsxs)("div",{className:"Header__Container-Header",children:[Object(b.jsx)("p",{className:"Header__Container-Header-Title",children:"Roadmap"}),Object(b.jsx)("a",{className:"Header__Container-Header-Link",children:"View"})]}),Object(b.jsxs)("div",{className:"Header__Container-Statuses",children:[(null===o||void 0===o?void 0:o.planned)?Object(b.jsx)(x,{title:"Planned",amount:null===o||void 0===o||null===(e=o.planned)||void 0===e?void 0:e.length}):"",(null===o||void 0===o?void 0:o.progress)?Object(b.jsx)(x,{title:"In-Progress",amount:null===o||void 0===o||null===(t=o.progress)||void 0===t?void 0:t.length}):"",(null===o||void 0===o?void 0:o.live)?Object(b.jsx)(x,{title:"Live",amount:null===o||void 0===o||null===(n=o.live)||void 0===n?void 0:n.length}):""]})]})]})},N=function(){var e,t=Object(s.useContext)(v),n=t.Data,a=t.ContentExists;return Object(b.jsx)("div",{className:"Content ".concat(a?"":"Hidden"),children:null===n||void 0===n||null===(e=n.data)||void 0===e?void 0:e.feedbacks.map((function(e){return Object(b.jsx)(_,{votes:e.votes,title:e.title,description:e.description,tags:e.tags,comments:e.comments,id:e._id})}))})},g=n.p+"static/media/NoContent.3f184500.svg",k=function(){var e=Object(s.useContext)(v),t=e.ContentExists,n=e.Filter;return Object(b.jsxs)("div",{className:"NoContent ".concat(t?"Hidden":""),children:[Object(b.jsx)("div",{className:"NoContent__Container",children:Object(b.jsx)("img",{src:g,alt:"No content"})}),Object(b.jsx)("div",{className:"NoContent__Container",children:Object(b.jsxs)("p",{className:"NoContent__Container-Header",children:["There is no ",n," feedback yet."]})}),Object(b.jsx)("div",{className:"NoContent__Container",children:Object(b.jsx)("p",{className:"NoContent__Container-Text",children:"Got a suggestion? Found a bug that needs to be squashed? We love hearing about new ideas to improve our app."})}),Object(b.jsx)("div",{className:"NoContent__Container",children:Object(b.jsx)("button",{className:"Bar__Container-Button",children:"+ Add Feedback"})})]})},H=function(){var e=Object(s.useContext)(v).isComponentVisible;return Object(b.jsxs)("div",{className:"Container",children:[Object(b.jsx)("div",{className:"Curtain ".concat(e?"Active":"Inactive")}),Object(b.jsx)(O,{}),Object(b.jsx)(p,{}),Object(b.jsx)(f,{}),Object(b.jsx)(C,{}),Object(b.jsx)(N,{}),Object(b.jsx)(k,{})]})},S=function(e){var t=Object(s.useState)({planned:0,progress:0,live:0}),n=Object(c.a)(t,2),a=n[0],i=n[1];return Object(s.useEffect)((function(){var t,n,s;i({planned:null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.feedbacks.filter((function(e){return"Planned"===e.status})),progress:null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.feedbacks.filter((function(e){return"In-Progress"===e.status})),live:null===e||void 0===e||null===(s=e.data)||void 0===s?void 0:s.feedbacks.filter((function(e){return"Live"===e.status}))})}),[e]),a};var E=function(){var e=d(),t=Object(c.a)(e,2),n=t[0],s=t[1],a=o(!1),i=Object(c.a)(a,3),j=i[0],O=i[1],m=i[2],x=o(!1),f=Object(c.a)(x,3),h=f[0],C=f[1],_=f[2],p=l("https://productfeedback-backend.herokuapp.com/api/feedback"),N=Object(c.a)(p,2),g=N[0],k=N[1],E=u(_,g,k),I=Object(c.a)(E,2),B=I[0],T=I[1],F=r(g,m),V=Object(c.a)(F,3),A=V[0],L=V[1],M=V[2],R={ToggleMenu:n,handleToggleMenu:s,ref:j,isComponentVisible:O,setIsComponentVisible:m,Data:g,Order:B,handleOrderChange:T,refOrder:h,isComponentVisibleOrder:C,setIsComponentVisibleOrder:_,Filter:A,handleChangeFilter:L,Statuses:S(g),ContentExists:M};return Object(b.jsx)(v.Provider,{value:R,children:Object(b.jsx)("div",{className:"App",children:Object(b.jsx)(H,{})})})};i.a.render(Object(b.jsx)(E,{}),document.getElementById("root"))}},[[13,1,2]]]);
//# sourceMappingURL=main.7e2a245d.chunk.js.map